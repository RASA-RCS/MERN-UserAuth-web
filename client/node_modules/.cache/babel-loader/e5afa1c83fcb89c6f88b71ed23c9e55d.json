{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Amarjeet Kumar\\\\Desktop\\\\task\\\\final\\\\client\\\\src\\\\Components\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"../Services/axiosInterceptor\";\nimport \"../css/signUp.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { auth, googleProvider } from \"../firebaseConfig/FireConFig\";\nimport email_Icon from \"../images/tl.webp\";\nimport phoneicon from \"../images/phone-call-icon-symbol-in-trendy-flat-style-call-icon-sign-for-app-logo-web-call-icon-flat-illustration-telephone-symbol-vector.jpg\";\nimport user from \"../images/login-avatar.png\";\nimport pwd from \"../images/password-76.png\";\nimport audios from \"../sound/success-340660.mp3\";\nimport { FacebookAuthProvider, signInWithPopup, fetchSignInMethodsForEmail } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [input, setInput] = useState({\n    Fname: \"\",\n    Mname: \"\",\n    Lname: \"\",\n    phone: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n  const [passwordVisible, setPasswordVisible] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [popupLoading, setPopupLoading] = useState(false);\n  const facebookProvider = new FacebookAuthProvider(); // -------------------- Validation --------------------\n\n  const validate = () => {\n    if (!/^[A-Za-z]+$/.test(input.Fname)) return \"First name should only contain letters\";\n    if (!/^[A-Za-z]+$/.test(input.Lname)) return \"Last name should only contain letters\";\n\n    if (input.Mname && !/^[A-Za-z]+$/.test(input.Mname)) {\n      return \"Middle name should only contain letters\";\n    }\n\n    if (!/^\\d+$/.test(input.phone)) return \"Phone number should contain only digits\";\n    if (input.phone.length !== 10) return \"Phone number must be 10 digits\";\n    const emailRegex = /^[A-Za-z][A-Za-z0-9._%+-]*@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/;\n    if (!emailRegex.test(input.email)) return \"Invalid email format (must start with a letter and be a valid email)\";\n    if (input.password !== input.confirmPassword) return \"Passwords do not match\";\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n\n    if (!passwordRegex.test(input.password)) {\n      return \"Password must be at least 8 characters long, include uppercase, lowercase, number, and special character.\";\n    }\n\n    return \"\";\n  };\n\n  const playSingUpSound = () => {\n    try {\n      const VerifyEmail = new Audio(audios); //  use imported audio\n\n      VerifyEmail.volume = 0.8;\n      VerifyEmail.play().catch(() => {\n        console.warn(\"⚠️ Login sound playback blocked by browser until user interaction.\");\n      });\n    } catch (err) {\n      console.warn(\"⚠️ Audio play error:\", err.message);\n    }\n  }; // -------------------- Register --------------------\n\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    const validationError = validate();\n\n    if (validationError) {\n      setError(validationError);\n      toast.error(validationError);\n      return;\n    }\n\n    setError(\"\");\n\n    try {\n      const response = await axios.post(\"api/auth/users/register\", input);\n\n      if (response.status === 201) {\n        playSingUpSound();\n        toast.success(\"User Registered successfully! Please Verify your Email\");\n        setTimeout(() => navigate(\"/login\"), 3000);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Something went wrong\");\n    }\n  }; // -------------------- Google Sign --------------------\n\n\n  const googleSign = async () => {\n    if (popupLoading) return;\n    setPopupLoading(true);\n\n    try {\n      const result = await signInWithPopup(auth, googleProvider);\n      const user = result.user;\n      const res = await axios.post(\"api/auth/users/google-login\", {\n        uid: user.uid,\n        email: user.email,\n        name: user.displayName,\n        photoURL: user.photoURL\n      });\n\n      if (res.status === 200) {\n        if (res.data.isNewUser) {\n          toast.success(\"Registered successfully! Please login.\");\n          setTimeout(() => navigate(\"/login\"), 3000);\n        } else {\n          localStorage.setItem(\"token\", res.data.token);\n          localStorage.setItem(\"name\", res.data.user.Fname);\n          toast.success(\"Login successful!\");\n          navigate(\"/login\");\n        }\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || \"Google sign-in failed\");\n    } finally {\n      setPopupLoading(false);\n    }\n  }; // -------------------- Facebook Sign --------------------\n\n\n  const facebookSign = async () => {\n    if (popupLoading) return;\n    setPopupLoading(true);\n    const facebookProvider = new FacebookAuthProvider();\n    facebookProvider.addScope(\"email\");\n\n    try {\n      const result = await signInWithPopup(auth, facebookProvider);\n      const user = result.user;\n      const response = await axios.post(\"/api/auth/users/facebook-login\", {\n        email: user.email,\n        uid: user.uid,\n        name: user.displayName,\n        photoURL: user.photoURL\n      });\n\n      if (response.data.token) {\n        var _response$data$user;\n\n        localStorage.setItem(\"token\", response.data.token);\n        localStorage.setItem(\"name\", ((_response$data$user = response.data.user) === null || _response$data$user === void 0 ? void 0 : _response$data$user.Fname) || user.displayName);\n        toast.success(\"Registered successfully! Please login.\");\n        navigate(\"/\");\n      }\n    } catch (err) {\n      if (err.code === \"auth/popup-closed-by-user\") {\n        toast.info(\"Login cancelled. You closed the popup.\");\n      } else if (err.code === \"auth/account-exists-with-different-credential\") {\n        const methods = await fetchSignInMethodsForEmail(auth, err.customData.email);\n        toast.error(`This email exists with ${methods[0]}. Use that to login.`);\n      } else {\n        toast.error(err.message || \"Facebook login failed\");\n      }\n    } finally {\n      setPopupLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full flex justify-center px-4 py-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white w-full max-w-md sm:max-w-lg lg:max-w-xl p-6 rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n        position: \"top-right\",\n        autoClose: 3000\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl sm:text-3xl font-bold mb-4 text-center\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-sm mb-2\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleRegister,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium\",\n            children: [\"Name\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: user,\n                className: \"w-5 h-5 sm:w-6 sm:h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"Fname\",\n                value: input.Fname,\n                placeholder: \"First Name\",\n                onChange: e => setInput({ ...input,\n                  [e.target.name]: e.target.value\n                }),\n                required: true,\n                maxLength: 10,\n                className: \"w-full p-2 border rounded text-sm sm:text-base\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: user,\n                className: \"w-5 h-5 sm:w-6 sm:h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"Mname\",\n                value: input.Mname,\n                placeholder: \"Middle Name\",\n                onChange: e => setInput({ ...input,\n                  [e.target.name]: e.target.value\n                }),\n                maxLength: 10,\n                className: \"w-full p-2 border rounded text-sm sm:text-base\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: user,\n                className: \"w-5 h-5 sm:w-6 sm:h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"Lname\",\n                value: input.Lname,\n                placeholder: \"Last Name\",\n                onChange: e => setInput({ ...input,\n                  [e.target.name]: e.target.value\n                }),\n                required: true,\n                maxLength: 10,\n                className: \"w-full p-2 border rounded text-sm sm:text-base\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium\",\n            children: [\"Email Address\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: email_Icon,\n              className: \"w-4 h-4 sm:w-6 sm:h-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              type: \"email\",\n              value: input.email,\n              placeholder: \"Enter your Valid Email\",\n              onChange: e => setInput({ ...input,\n                [e.target.name]: e.target.value\n              }),\n              required: true,\n              className: \"w-full p-2 border rounded text-sm sm:text-base\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium\",\n            children: [\"Phone No\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: phoneicon,\n              className: \"w-5 h-5 sm:w-6 sm:h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"phone\",\n              maxLength: 10,\n              value: input.phone,\n              placeholder: \"Enter your Contact Number\",\n              onChange: e => setInput({ ...input,\n                [e.target.name]: e.target.value\n              }),\n              required: true,\n              className: \"w-full p-2 border rounded text-sm sm:text-base\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium\",\n            children: [\"Password\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mt-1 relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: pwd,\n              className: \"w-5 h-5 sm:w-6 sm:h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"password\",\n              type: passwordVisible ? \"text\" : \"password\",\n              value: input.password,\n              placeholder: \"Password\",\n              onChange: e => setInput({ ...input,\n                [e.target.name]: e.target.value\n              }),\n              required: true,\n              className: \"w-full p-2 border rounded text-sm sm:text-base\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute right-3 cursor-pointer text-xs sm:text-sm\",\n              onClick: () => setPasswordVisible(!passwordVisible),\n              children: passwordVisible ? \"Hide\" : \"👁️\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium\",\n            children: [\"Confirm Password\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: pwd,\n              className: \"w-5 h-5 sm:w-6 sm:h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"confirmPassword\",\n              type: passwordVisible ? \"text\" : \"password\",\n              value: input.confirmPassword,\n              placeholder: \"Confirm Password\",\n              onChange: e => setInput({ ...input,\n                [e.target.name]: e.target.value\n              }),\n              required: true,\n              className: \"w-full p-2 border rounded text-sm sm:text-base\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-500 block\",\n          children: \"Password must be at least 8 characters, include uppercase, lowercase, number & special character.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded transition duration-200 text-sm sm:text-base signup\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center my-3\",\n        children: \"Or\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: googleSign,\n        className: \"social-button google-btn w-full mt-2 flex items-center justify-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://www.google.com/favicon.ico\",\n          alt: \"Google Logo\",\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), \"Continue with Google\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: facebookSign,\n        className: \"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded flex items-center justify-center gap-2 mb-2 text-sm sm:text-base\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://www.facebook.com/images/fb_icon_325x325.png\",\n          alt: \"Facebook Logo\",\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), \"Continue with Facebook\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-center mt-4\",\n        children: [\"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \" font-medium underline cursor-pointer singbtn\",\n          onClick: () => navigate(\"/login\"),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"sobsvjrSsJEfrqL3OUY8qZnezoQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","axios","useNavigate","ToastContainer","toast","auth","googleProvider","email_Icon","phoneicon","user","pwd","audios","FacebookAuthProvider","signInWithPopup","fetchSignInMethodsForEmail","Register","navigate","input","setInput","Fname","Mname","Lname","phone","email","password","confirmPassword","passwordVisible","setPasswordVisible","error","setError","popupLoading","setPopupLoading","facebookProvider","validate","test","length","emailRegex","passwordRegex","playSingUpSound","VerifyEmail","Audio","volume","play","catch","console","warn","err","message","handleRegister","e","preventDefault","validationError","response","post","status","success","setTimeout","data","googleSign","result","res","uid","name","displayName","photoURL","isNewUser","localStorage","setItem","token","facebookSign","addScope","code","info","methods","customData","target","value"],"sources":["C:/Users/Amarjeet Kumar/Desktop/task/final/client/src/Components/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"../Services/axiosInterceptor\";\nimport \"../css/signUp.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { auth, googleProvider } from \"../firebaseConfig/FireConFig\";\nimport email_Icon from \"../images/tl.webp\";\nimport phoneicon from \"../images/phone-call-icon-symbol-in-trendy-flat-style-call-icon-sign-for-app-logo-web-call-icon-flat-illustration-telephone-symbol-vector.jpg\";\nimport user from \"../images/login-avatar.png\";\nimport pwd from \"../images/password-76.png\";\nimport audios from \"../sound/success-340660.mp3\";\nimport {\n  FacebookAuthProvider,\n  signInWithPopup,\n  fetchSignInMethodsForEmail,\n} from \"firebase/auth\";\n\nconst Register = () => {\n  const navigate = useNavigate();\n  const [input, setInput] = useState({\n    Fname: \"\",\n    Mname: \"\",\n    Lname: \"\",\n    phone: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  const [passwordVisible, setPasswordVisible] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [popupLoading, setPopupLoading] = useState(false);\n\n  const facebookProvider = new FacebookAuthProvider();\n\n  // -------------------- Validation --------------------\n  const validate = () => {\n    if (!/^[A-Za-z]+$/.test(input.Fname))\n      return \"First name should only contain letters\";\n    if (!/^[A-Za-z]+$/.test(input.Lname))\n      return \"Last name should only contain letters\";\n\n    if (input.Mname && !/^[A-Za-z]+$/.test(input.Mname)) {\n      return \"Middle name should only contain letters\";\n    }\n    if (!/^\\d+$/.test(input.phone))\n      return \"Phone number should contain only digits\";\n    if (input.phone.length !== 10)\n      return \"Phone number must be 10 digits\";\n\n    const emailRegex = /^[A-Za-z][A-Za-z0-9._%+-]*@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/;\n    if (!emailRegex.test(input.email))\n      return \"Invalid email format (must start with a letter and be a valid email)\";\n    if (input.password !== input.confirmPassword)\n      return \"Passwords do not match\";\n\n    const passwordRegex =\n      /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n    if (!passwordRegex.test(input.password)) {\n      return \"Password must be at least 8 characters long, include uppercase, lowercase, number, and special character.\";\n    }\n\n    return \"\";\n  };\n\n  const playSingUpSound = () => {\n    try {\n      const VerifyEmail = new Audio(audios); //  use imported audio\n      VerifyEmail.volume = 0.8;\n      VerifyEmail.play().catch(() => {\n        console.warn(\"⚠️ Login sound playback blocked by browser until user interaction.\");\n      });\n    } catch (err) {\n      console.warn(\"⚠️ Audio play error:\", err.message);\n    }\n  };\n  // -------------------- Register --------------------\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    const validationError = validate();\n    if (validationError) {\n      setError(validationError);\n      toast.error(validationError);\n      return;\n    }\n\n    setError(\"\");\n    try {\n      const response = await axios.post(\"api/auth/users/register\", input);\n      if (response.status === 201) {\n        playSingUpSound();\n        toast.success(\"User Registered successfully! Please Verify your Email\");\n        setTimeout(() => navigate(\"/login\"), 3000);\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.message || \"Something went wrong\");\n    }\n  };\n\n  // -------------------- Google Sign --------------------\n  const googleSign = async () => {\n    if (popupLoading) return;\n    setPopupLoading(true);\n    try {\n      const result = await signInWithPopup(auth, googleProvider);\n      const user = result.user;\n      const res = await axios.post(\"api/auth/users/google-login\", {\n        uid: user.uid,\n        email: user.email,\n        name: user.displayName,\n        photoURL: user.photoURL,\n      });\n\n      if (res.status === 200) {\n        if (res.data.isNewUser) {\n          toast.success(\"Registered successfully! Please login.\");\n          setTimeout(() => navigate(\"/login\"), 3000);\n        } else {\n          localStorage.setItem(\"token\", res.data.token);\n          localStorage.setItem(\"name\", res.data.user.Fname);\n          toast.success(\"Login successful!\");\n          navigate(\"/login\");\n        }\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.message || \"Google sign-in failed\");\n    } finally {\n      setPopupLoading(false);\n    }\n  };\n\n  // -------------------- Facebook Sign --------------------\n  const facebookSign = async () => {\n    if (popupLoading) return;\n    setPopupLoading(true);\n    const facebookProvider = new FacebookAuthProvider();\n    facebookProvider.addScope(\"email\");\n\n    try {\n      const result = await signInWithPopup(auth, facebookProvider);\n      const user = result.user;\n\n      const response = await axios.post(\"/api/auth/users/facebook-login\", {\n        email: user.email,\n        uid: user.uid,\n        name: user.displayName,\n        photoURL: user.photoURL,\n      });\n\n      if (response.data.token) {\n        localStorage.setItem(\"token\", response.data.token);\n        localStorage.setItem(\"name\", response.data.user?.Fname || user.displayName);\n        toast.success(\"Registered successfully! Please login.\");\n        navigate(\"/\");\n      }\n    } catch (err) {\n      if (err.code === \"auth/popup-closed-by-user\") {\n        toast.info(\"Login cancelled. You closed the popup.\");\n      } else if (err.code === \"auth/account-exists-with-different-credential\") {\n        const methods = await fetchSignInMethodsForEmail(auth, err.customData.email);\n        toast.error(`This email exists with ${methods[0]}. Use that to login.`);\n      } else {\n        toast.error(err.message || \"Facebook login failed\");\n      }\n    } finally {\n      setPopupLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"w-full flex justify-center px-4 py-6\">\n      <div className=\"bg-white w-full max-w-md sm:max-w-lg lg:max-w-xl p-6 rounded-lg shadow-md\">\n        <ToastContainer position=\"top-right\" autoClose={3000} />\n        <h2 className=\"text-2xl sm:text-3xl font-bold mb-4 text-center\">Sign Up</h2>\n\n        {error && <p className=\"text-red-500 text-sm mb-2\">{error}</p>}\n\n        {/* FORM */}\n        <form onSubmit={handleRegister} className=\"space-y-4\">\n          {/* Name Fields */}\n          <div>\n            <p className=\"text-sm font-medium\">\n              Name<span className=\"text-red-500\">*</span>\n            </p>\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-1\">\n              {/* First Name */}\n              <div className=\"flex items-center gap-2\">\n                <img src={user} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                <input\n                  name=\"Fname\"\n                  value={input.Fname}\n                  placeholder=\"First Name\"\n                  onChange={(e) =>\n                    setInput({ ...input, [e.target.name]: e.target.value })\n                  }\n                  required\n                  maxLength={10}\n                  className=\"w-full p-2 border rounded text-sm sm:text-base\"\n                />\n              </div>\n\n              {/* Middle Name */}\n              <div className=\"flex items-center gap-2\">\n                <img src={user} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                <input\n                  name=\"Mname\"\n                  value={input.Mname}\n                  placeholder=\"Middle Name\"\n                  onChange={(e) =>\n                    setInput({ ...input, [e.target.name]: e.target.value })\n                  }\n                  maxLength={10}\n                  className=\"w-full p-2 border rounded text-sm sm:text-base\"\n                />\n              </div>\n\n              {/* Last Name */}\n              <div className=\"flex items-center gap-2\">\n                <img src={user} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                <input\n                  name=\"Lname\"\n                  value={input.Lname}\n                  placeholder=\"Last Name\"\n                  onChange={(e) =>\n                    setInput({ ...input, [e.target.name]: e.target.value })\n                  }\n                  required\n                  maxLength={10}\n                  className=\"w-full p-2 border rounded text-sm sm:text-base\"\n                />\n              </div>\n            </div>\n          </div>\n\n\n          {/* Email */}\n          <div>\n            <p className=\"text-sm font-medium\">\n              Email Address<span className=\"text-red-500\">*</span>\n            </p>\n            <div className=\"flex items-center gap-2 mt-1\">\n              <img src={email_Icon} className=\"w-4 h-4 sm:w-6 sm:h-\" />\n              <input\n                name=\"email\"\n                type=\"email\"\n                value={input.email}\n                placeholder=\"Enter your Valid Email\"\n                onChange={(e) =>\n                  setInput({ ...input, [e.target.name]: e.target.value })\n                }\n                required\n                className=\"w-full p-2 border rounded text-sm sm:text-base\"\n              />\n            </div>\n          </div>\n\n          {/* Phone */}\n          <div>\n            <p className=\"text-sm font-medium\">\n              Phone No<span className=\"text-red-500\">*</span>\n            </p>\n            <div className=\"flex items-center gap-2 mt-1\">\n              <img src={phoneicon} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n              <input\n                name=\"phone\"\n                maxLength={10}\n                value={input.phone}\n                placeholder=\"Enter your Contact Number\"\n                onChange={(e) =>\n                  setInput({ ...input, [e.target.name]: e.target.value })\n                }\n                required\n                className=\"w-full p-2 border rounded text-sm sm:text-base\"\n              />\n            </div>\n          </div>\n\n          {/* Password */}\n          <div>\n            <p className=\"text-sm font-medium\">\n              Password<span className=\"text-red-500\">*</span>\n            </p>\n            <div className=\"flex items-center gap-2 mt-1 relative\">\n              <img src={pwd} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n              <input\n                name=\"password\"\n                type={passwordVisible ? \"text\" : \"password\"}\n                value={input.password}\n                placeholder=\"Password\"\n                onChange={(e) =>\n                  setInput({ ...input, [e.target.name]: e.target.value })\n                }\n                required\n                className=\"w-full p-2 border rounded text-sm sm:text-base\"\n              />\n              <span\n                className=\"absolute right-3 cursor-pointer text-xs sm:text-sm\"\n                onClick={() => setPasswordVisible(!passwordVisible)}\n              >\n                {passwordVisible ? \"Hide\" : \"👁️\"}\n              </span>\n            </div>\n          </div>\n\n          {/* Confirm Password */}\n          <div>\n            <p className=\"text-sm font-medium\">\n              Confirm Password<span className=\"text-red-500\">*</span>\n            </p>\n            <div className=\"flex items-center gap-2 mt-1\">\n              <img src={pwd} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n              <input\n                name=\"confirmPassword\"\n                type={passwordVisible ? \"text\" : \"password\"}\n                value={input.confirmPassword}\n                placeholder=\"Confirm Password\"\n                onChange={(e) =>\n                  setInput({ ...input, [e.target.name]: e.target.value })\n                }\n                required\n                className=\"w-full p-2 border rounded text-sm sm:text-base\"\n              />\n            </div>\n          </div>\n\n          <span className=\"text-xs text-gray-500 block\">\n            Password must be at least 8 characters, include uppercase,\n            lowercase, number & special character.\n          </span>\n\n          <button\n            type=\"submit\"\n            className=\"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded transition duration-200 text-sm sm:text-base signup\"\n          >\n            Sign Up\n          </button>\n        </form>\n\n        {/* Social Buttons */}\n        <p className=\"text-center my-3\">Or</p>\n\n        <button\n          onClick={googleSign}\n          className=\"social-button google-btn w-full mt-2 flex items-center justify-center gap-2\"\n        >\n          <img\n            src=\"https://www.google.com/favicon.ico\"\n            alt=\"Google Logo\"\n            className=\"w-5 h-5\"\n          />\n          Continue with Google\n        </button>\n\n        <button\n          onClick={facebookSign}\n          className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded flex items-center justify-center gap-2 mb-2 text-sm sm:text-base\"\n        >\n          <img\n            src=\"https://www.facebook.com/images/fb_icon_325x325.png\"\n            alt=\"Facebook Logo\"\n            className=\"w-5 h-5\"\n          />\n          Continue with Facebook\n        </button>\n\n        {/* <a\n          href=\"#\"\n          className=\"social-button apple-btn mt-2 w-full flex items-center justify-center gap-2 \"\n        >\n          <img\n            src=\"https://th.bing.com/th/id/R.1ec11a869384bc5e59625bac39b6a099?rik=1dlGqAp84GWGFw&riu=http%3a%2f%2fpngimg.com%2fuploads%2fapple_logo%2fapple_logo_PNG19692.png&ehk=5ghp5P0aLzQqfUKTsPihTYaIP%2b4VcHGKNovcBq8KOuo%3d&risl=&pid=ImgRaw&r=0\"\n            alt=\"Apple Logo\"\n            className=\"w-5 h-5\"\n          />\n          Continue with Apple\n        </a> */}\n\n        <p className=\"text-sm text-center mt-4\">\n          Already have an account?{\" \"}\n          <span\n            className=\" font-medium underline cursor-pointer singbtn\"\n            onClick={() => navigate(\"/login\")}\n          >\n            Login\n          </span>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}