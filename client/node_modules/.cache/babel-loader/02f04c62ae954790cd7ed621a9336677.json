{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Amarjeet Kumar\\\\Desktop\\\\final\\\\client\\\\src\\\\Components\\\\Register.js\",\n    _s = $RefreshSig$();\n\n//  Copyright (c) [2025] [Rasa Consultancy Services]. All rights reserved. \n//  This software is the confidential and proprietary information of [Rasa Consultancy Services]. \n//  You shall not disclose such confidential information and shall use it only in accordance \n//with the terms of the license agreement you entered into with [Rasa Consultancy Services].\n//  For more information, please contact: [Your Company Email/Legal Department Contact] \nimport React, { useState } from \"react\";\nimport axios from \"../Services/axiosInterceptor\"; // Axios instance for API calls\n\nimport \"../css/signUp.css\"; // CSS for styling the form\n\nimport { useNavigate } from \"react-router-dom\"; // For navigation after registration\n\nimport { ToastContainer, toast } from \"react-toastify\"; // Toast notifications\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { auth, googleProvider } from \"../firebaseConfig/FireConFig\"; // Firebase auth and Google provider\n\nimport email_Icon from \"../images/tl.webp\"; // Email icon image\n\nimport phoneicon from \"../images/phone-call-icon-symbol-in-trendy-flat-style-call-icon-sign-for-app-logo-web-call-icon-flat-illustration-telephone-symbol-vector.jpg\"; // Phone icon image\n\nimport user from \"../images/login-avatar.png\"; // User icon\n\nimport pwd from \"../images/password-76.png\"; // Password icon\n\nimport audios from \"../sound/success-340660.mp3\"; // Audio file for success notification\n\nimport { FacebookAuthProvider, signInWithPopup, fetchSignInMethodsForEmail } from \"firebase/auth\"; // Firebase Facebook auth methods\n//------------------ Main Register Component -----------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const navigate = useNavigate(); // React Router navigate function\n  // State to store user input fields\n\n  const [input, setInput] = useState({\n    Fname: \"\",\n    // First Name\n    Mname: \"\",\n    // Middle Name (optional)\n    Lname: \"\",\n    // Last Name\n    phone: \"\",\n    // Phone number\n    email: \"\",\n    // Email address\n    password: \"\",\n    // Password\n    confirmPassword: \"\" // Confirm password\n\n  });\n  const [passwordVisible, setPasswordVisible] = useState(false); // Toggle password visibility\n\n  const [error, setError] = useState(\"\"); // Stores validation error messages\n\n  const [popupLoading, setPopupLoading] = useState(false); // Prevent multiple social login popups\n\n  const facebookProvider = new FacebookAuthProvider(); // Firebase Facebook provider\n  // -------------------- Validate Input Fields --------------------\n\n  const validate = () => {\n    // Validate First Name (letters only)\n    if (!/^[A-Za-z]+$/.test(input.Fname)) return \"First name should only contain letters\"; // Validate Middle Name (letters only if provided)\n\n    if (input.Mname && !/^[A-Za-z]+$/.test(input.Mname)) {\n      return \"Middle name should only contain letters\";\n    } // Validate Last Name (letters only)\n\n\n    if (!/^[A-Za-z]+$/.test(input.Lname)) return \"Last name should only contain letters\"; // Validate Phone (digits only)\n\n    if (!/^\\d+$/.test(input.phone)) return \"Phone number should contain only digits\"; // Validate Phone length (10 digits)\n\n    if (input.phone.length !== 10) return \"Phone number must be 10 digits\"; // Validate Email format\n\n    const emailRegex = /^[A-Za-z][A-Za-z0-9._%+-]*@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/;\n    if (!emailRegex.test(input.email)) return \"Invalid email format (must start with a letter and be a valid email)\"; // Validate Password match\n\n    if (input.password !== input.confirmPassword) return \"Passwords do not match\"; // Validate Password complexity (min 8 chars, uppercase, lowercase, number, special char)\n\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n\n    if (!passwordRegex.test(input.password)) {\n      return \"Password must be at least 8 characters long, include uppercase, lowercase, number, and special character.\";\n    }\n\n    return \"\"; // No validation errors\n  }; // -------------------- Play Success Sound --------------------\n\n\n  const playSingUpSound = () => {\n    try {\n      const VerifyEmail = new Audio(audios); // Create audio instance\n\n      VerifyEmail.volume = 0.8; // Set volume\n\n      VerifyEmail.play().catch(() => {\n        console.warn(\"⚠️ Login sound playback blocked by browser until user interaction.\");\n      });\n    } catch (err) {\n      console.warn(\"⚠️ Audio play error:\", err.message);\n    }\n  }; // -------------------- Handle Manual Registration --------------------\n\n\n  const handleRegister = async e => {\n    e.preventDefault(); // Prevent default form submit\n\n    const validationError = validate(); // Validate input fields\n\n    if (validationError) {\n      setError(validationError); // Set error state\n\n      toast.error(validationError); // Show toast\n\n      return;\n    }\n\n    setError(\"\"); // Clear previous errors\n\n    try {\n      // Send registration data to backend\n      const response = await axios.post(\"api/auth/users/register\", input);\n\n      if (response.status === 201) {\n        playSingUpSound(); // Play success audio\n\n        toast.success(\"User Registered successfully! Please Verify your Email\");\n        setTimeout(() => navigate(\"/login\"), 3000); // Redirect to login\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Something went wrong\"); // Show backend error\n    }\n  }; // -------------------- Google Sign-In --------------------\n\n\n  const googleSign = async () => {\n    if (popupLoading) return; // Prevent multiple popups\n\n    setPopupLoading(true);\n\n    try {\n      const result = await signInWithPopup(auth, googleProvider); // Firebase Google popup\n\n      const user = result.user; // Send Google user data to backend\n\n      const res = await axios.post(\"api/auth/users/google-login\", {\n        uid: user.uid,\n        email: user.email,\n        name: user.displayName,\n        photoURL: user.photoURL\n      });\n\n      if (res.status === 200) {\n        if (res.data.isNewUser) {\n          toast.success(\"Registered successfully! Please login.\");\n          setTimeout(() => navigate(\"/login\"), 3000);\n        } else {\n          localStorage.setItem(\"token\", res.data.token); // Save token\n\n          localStorage.setItem(\"name\", res.data.user.Fname); // Save user name\n\n          toast.success(\"Login successful!\");\n          navigate(\"/\"); // Redirect to home\n        }\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || \"Google sign-in failed\"); // Show error\n    } finally {\n      setPopupLoading(false); // Reset popup loading\n    }\n  }; // -------------------- Facebook Sign-In --------------------\n\n\n  const facebookSign = async () => {\n    if (popupLoading) return; // Prevent multiple popups\n\n    setPopupLoading(true);\n    const facebookProvider = new FacebookAuthProvider(); // Create new provider\n\n    facebookProvider.addScope(\"email\"); // Request email access\n\n    try {\n      const result = await signInWithPopup(auth, facebookProvider); // Firebase Facebook popup\n\n      const user = result.user; // Send Facebook user data to backend\n\n      const response = await axios.post(\"/api/auth/users/facebook-login\", {\n        email: user.email,\n        uid: user.uid,\n        name: user.displayName,\n        photoURL: user.photoURL\n      });\n\n      if (response.data.token) {\n        var _response$data$user;\n\n        localStorage.setItem(\"token\", response.data.token); // Save token\n\n        localStorage.setItem(\"name\", ((_response$data$user = response.data.user) === null || _response$data$user === void 0 ? void 0 : _response$data$user.Fname) || user.displayName); // Save name\n\n        toast.success(\"Registered successfully! Please login.\");\n        navigate(\"/\"); // Redirect to home\n      }\n    } catch (err) {\n      // Handle common Firebase errors\n      if (err.code === \"auth/popup-closed-by-user\") {\n        toast.info(\"Login cancelled. You closed the popup.\");\n      } else if (err.code === \"auth/account-exists-with-different-credential\") {\n        const methods = await fetchSignInMethodsForEmail(auth, err.customData.email);\n        toast.error(`This email exists with ${methods[0]}. Use that to login.`);\n      } else {\n        toast.error(err.message || \"Facebook login failed\");\n      }\n    } finally {\n      setPopupLoading(false); // Reset popup loading\n    }\n  }; // -------------------- Render JSX --------------------\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full flex justify-center px-4 py-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white w-full max-w-md sm:max-w-lg lg:max-w-xl p-6 rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n        position: \"top-right\",\n        autoClose: 3000\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl sm:text-3xl font-bold mb-4 text-center\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-sm mb-2\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleRegister,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium\",\n            children: [\"Name\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: user,\n                className: \"w-5 h-5 sm:w-6 sm:h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"Fname\",\n                value: input.Fname,\n                placeholder: \"First Name\",\n                onChange: e => setInput({ ...input,\n                  [e.target.name]: e.target.value\n                }),\n                required: true,\n                maxLength: 10,\n                className: \"w-full p-2 border rounded text-sm sm:text-base\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: user,\n                className: \"w-5 h-5 sm:w-6 sm:h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"Mname\",\n                value: input.Mname,\n                placeholder: \"Middle Name\",\n                onChange: e => setInput({ ...input,\n                  [e.target.name]: e.target.value\n                }),\n                maxLength: 10,\n                className: \"w-full p-2 border rounded text-sm sm:text-base\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: user,\n                className: \"w-5 h-5 sm:w-6 sm:h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"Lname\",\n                value: input.Lname,\n                placeholder: \"Last Name\",\n                onChange: e => setInput({ ...input,\n                  [e.target.name]: e.target.value\n                }),\n                required: true,\n                maxLength: 10,\n                className: \"w-full p-2 border rounded text-sm sm:text-base\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium\",\n            children: [\"Email Address\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: email_Icon,\n              className: \"w-4 h-4 sm:w-6 sm:h-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              type: \"email\",\n              value: input.email,\n              placeholder: \"Enter your Valid Email\",\n              onChange: e => setInput({ ...input,\n                [e.target.name]: e.target.value\n              }),\n              required: true,\n              className: \"w-full p-2 border rounded text-sm sm:text-base\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium\",\n            children: [\"Phone No\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: phoneicon,\n              className: \"w-5 h-5 sm:w-6 sm:h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"phone\",\n              maxLength: 10,\n              value: input.phone,\n              placeholder: \"Enter your Contact Number\",\n              onChange: e => setInput({ ...input,\n                [e.target.name]: e.target.value\n              }),\n              required: true,\n              className: \"w-full p-2 border rounded text-sm sm:text-base\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium\",\n            children: [\"Password\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mt-1 relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: pwd,\n              className: \"w-5 h-5 sm:w-6 sm:h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"password\",\n              type: passwordVisible ? \"text\" : \"password\",\n              value: input.password,\n              placeholder: \"Password\",\n              onChange: e => setInput({ ...input,\n                [e.target.name]: e.target.value\n              }),\n              required: true,\n              className: \"w-full p-2 border rounded text-sm sm:text-base\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute right-3 cursor-pointer text-xs sm:text-sm\",\n              onClick: () => setPasswordVisible(!passwordVisible),\n              children: passwordVisible ? \"Hide\" : \"👁️\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium\",\n            children: [\"Confirm Password\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: pwd,\n              className: \"w-5 h-5 sm:w-6 sm:h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"confirmPassword\",\n              type: passwordVisible ? \"text\" : \"password\",\n              value: input.confirmPassword,\n              placeholder: \"Confirm Password\",\n              onChange: e => setInput({ ...input,\n                [e.target.name]: e.target.value\n              }),\n              required: true,\n              className: \"w-full p-2 border rounded text-sm sm:text-base\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-500 block\",\n          children: \"Password must be at least 8 characters, include uppercase, lowercase, number & special character.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded transition duration-200 text-sm sm:text-base signup\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center my-3\",\n        children: \"Or\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: googleSign,\n        className: \"social-button google-btn w-full mt-2 flex items-center justify-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://www.google.com/favicon.ico\",\n          alt: \"Google Logo\",\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), \"Continue with Google\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: facebookSign,\n        className: \"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded flex items-center justify-center gap-2 mb-2 text-sm sm:text-base\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://www.facebook.com/images/fb_icon_325x325.png\",\n          alt: \"Facebook Logo\",\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), \"Continue with Facebook\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-center mt-4\",\n        children: [\"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \" font-medium underline cursor-pointer singbtn\",\n          onClick: () => navigate(\"/login\"),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"OIgmhHIhEVxGEs4peBArl/SBl4g=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","axios","useNavigate","ToastContainer","toast","auth","googleProvider","email_Icon","phoneicon","user","pwd","audios","FacebookAuthProvider","signInWithPopup","fetchSignInMethodsForEmail","Register","navigate","input","setInput","Fname","Mname","Lname","phone","email","password","confirmPassword","passwordVisible","setPasswordVisible","error","setError","popupLoading","setPopupLoading","facebookProvider","validate","test","length","emailRegex","passwordRegex","playSingUpSound","VerifyEmail","Audio","volume","play","catch","console","warn","err","message","handleRegister","e","preventDefault","validationError","response","post","status","success","setTimeout","data","googleSign","result","res","uid","name","displayName","photoURL","isNewUser","localStorage","setItem","token","facebookSign","addScope","code","info","methods","customData","target","value"],"sources":["C:/Users/Amarjeet Kumar/Desktop/final/client/src/Components/Register.js"],"sourcesContent":["//  Copyright (c) [2025] [Rasa Consultancy Services]. All rights reserved. \n//  This software is the confidential and proprietary information of [Rasa Consultancy Services]. \n//  You shall not disclose such confidential information and shall use it only in accordance \n//with the terms of the license agreement you entered into with [Rasa Consultancy Services].\n//  For more information, please contact: [Your Company Email/Legal Department Contact] \n\nimport React, { useState } from \"react\";\nimport axios from \"../Services/axiosInterceptor\"; // Axios instance for API calls\nimport \"../css/signUp.css\"; // CSS for styling the form\nimport { useNavigate } from \"react-router-dom\"; // For navigation after registration\nimport { ToastContainer, toast } from \"react-toastify\"; // Toast notifications\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { auth, googleProvider } from \"../firebaseConfig/FireConFig\"; // Firebase auth and Google provider\nimport email_Icon from \"../images/tl.webp\"; // Email icon image\nimport phoneicon from \"../images/phone-call-icon-symbol-in-trendy-flat-style-call-icon-sign-for-app-logo-web-call-icon-flat-illustration-telephone-symbol-vector.jpg\"; // Phone icon image\nimport user from \"../images/login-avatar.png\"; // User icon\nimport pwd from \"../images/password-76.png\"; // Password icon\nimport audios from \"../sound/success-340660.mp3\"; // Audio file for success notification\nimport {\n  FacebookAuthProvider,\n  signInWithPopup,\n  fetchSignInMethodsForEmail,\n} from \"firebase/auth\"; // Firebase Facebook auth methods\n\n//------------------ Main Register Component -----------------\nconst Register = () => {\n  const navigate = useNavigate(); // React Router navigate function\n\n  // State to store user input fields\n  const [input, setInput] = useState({\n    Fname: \"\",           // First Name\n    Mname: \"\",           // Middle Name (optional)\n    Lname: \"\",           // Last Name\n    phone: \"\",           // Phone number\n    email: \"\",           // Email address\n    password: \"\",        // Password\n    confirmPassword: \"\", // Confirm password\n  });\n\n  const [passwordVisible, setPasswordVisible] = useState(false); // Toggle password visibility\n  const [error, setError] = useState(\"\"); // Stores validation error messages\n  const [popupLoading, setPopupLoading] = useState(false); // Prevent multiple social login popups\n\n  const facebookProvider = new FacebookAuthProvider(); // Firebase Facebook provider\n\n  // -------------------- Validate Input Fields --------------------\n  const validate = () => {\n    // Validate First Name (letters only)\n    if (!/^[A-Za-z]+$/.test(input.Fname))\n      return \"First name should only contain letters\";\n\n    // Validate Middle Name (letters only if provided)\n    if (input.Mname && !/^[A-Za-z]+$/.test(input.Mname)) {\n      return \"Middle name should only contain letters\";\n    }\n\n    // Validate Last Name (letters only)\n    if (!/^[A-Za-z]+$/.test(input.Lname))\n      return \"Last name should only contain letters\";\n\n    // Validate Phone (digits only)\n    if (!/^\\d+$/.test(input.phone))\n      return \"Phone number should contain only digits\";\n\n    // Validate Phone length (10 digits)\n    if (input.phone.length !== 10)\n      return \"Phone number must be 10 digits\";\n\n    // Validate Email format\n    const emailRegex = /^[A-Za-z][A-Za-z0-9._%+-]*@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$/;\n    if (!emailRegex.test(input.email))\n      return \"Invalid email format (must start with a letter and be a valid email)\";\n\n    // Validate Password match\n    if (input.password !== input.confirmPassword)\n      return \"Passwords do not match\";\n\n    // Validate Password complexity (min 8 chars, uppercase, lowercase, number, special char)\n    const passwordRegex =\n      /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n    if (!passwordRegex.test(input.password)) {\n      return \"Password must be at least 8 characters long, include uppercase, lowercase, number, and special character.\";\n    }\n\n    return \"\"; // No validation errors\n  };\n\n  // -------------------- Play Success Sound --------------------\n  const playSingUpSound = () => {\n    try {\n      const VerifyEmail = new Audio(audios); // Create audio instance\n      VerifyEmail.volume = 0.8; // Set volume\n      VerifyEmail.play().catch(() => {\n        console.warn(\"⚠️ Login sound playback blocked by browser until user interaction.\");\n      });\n    } catch (err) {\n      console.warn(\"⚠️ Audio play error:\", err.message);\n    }\n  };\n\n  // -------------------- Handle Manual Registration --------------------\n  const handleRegister = async (e) => {\n    e.preventDefault(); // Prevent default form submit\n\n    const validationError = validate(); // Validate input fields\n    if (validationError) {\n      setError(validationError); // Set error state\n      toast.error(validationError); // Show toast\n      return;\n    }\n\n    setError(\"\"); // Clear previous errors\n    try {\n      // Send registration data to backend\n      const response = await axios.post(\"api/auth/users/register\", input);\n      if (response.status === 201) {\n        playSingUpSound(); // Play success audio\n        toast.success(\"User Registered successfully! Please Verify your Email\");\n        setTimeout(() => navigate(\"/login\"), 3000); // Redirect to login\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.message || \"Something went wrong\"); // Show backend error\n    }\n  };\n\n  // -------------------- Google Sign-In --------------------\n  const googleSign = async () => {\n    if (popupLoading) return; // Prevent multiple popups\n    setPopupLoading(true);\n\n    try {\n      const result = await signInWithPopup(auth, googleProvider); // Firebase Google popup\n      const user = result.user;\n\n      // Send Google user data to backend\n      const res = await axios.post(\"api/auth/users/google-login\", {\n        uid: user.uid,\n        email: user.email,\n        name: user.displayName,\n        photoURL: user.photoURL,\n      });\n\n      if (res.status === 200) {\n        if (res.data.isNewUser) {\n          toast.success(\"Registered successfully! Please login.\");\n          setTimeout(() => navigate(\"/login\"), 3000);\n        } else {\n          localStorage.setItem(\"token\", res.data.token); // Save token\n          localStorage.setItem(\"name\", res.data.user.Fname); // Save user name\n          toast.success(\"Login successful!\");\n          navigate(\"/\"); // Redirect to home\n        }\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.message || \"Google sign-in failed\"); // Show error\n    } finally {\n      setPopupLoading(false); // Reset popup loading\n    }\n  };\n\n  // -------------------- Facebook Sign-In --------------------\n  const facebookSign = async () => {\n    if (popupLoading) return; // Prevent multiple popups\n    setPopupLoading(true);\n    const facebookProvider = new FacebookAuthProvider(); // Create new provider\n    facebookProvider.addScope(\"email\"); // Request email access\n\n    try {\n      const result = await signInWithPopup(auth, facebookProvider); // Firebase Facebook popup\n      const user = result.user;\n\n      // Send Facebook user data to backend\n      const response = await axios.post(\"/api/auth/users/facebook-login\", {\n        email: user.email,\n        uid: user.uid,\n        name: user.displayName,\n        photoURL: user.photoURL,\n      });\n\n      if (response.data.token) {\n        localStorage.setItem(\"token\", response.data.token); // Save token\n        localStorage.setItem(\"name\", response.data.user?.Fname || user.displayName); // Save name\n        toast.success(\"Registered successfully! Please login.\");\n        navigate(\"/\"); // Redirect to home\n      }\n    } catch (err) {\n      // Handle common Firebase errors\n      if (err.code === \"auth/popup-closed-by-user\") {\n        toast.info(\"Login cancelled. You closed the popup.\");\n      } else if (err.code === \"auth/account-exists-with-different-credential\") {\n        const methods = await fetchSignInMethodsForEmail(auth, err.customData.email);\n        toast.error(`This email exists with ${methods[0]}. Use that to login.`);\n      } else {\n        toast.error(err.message || \"Facebook login failed\");\n      }\n    } finally {\n      setPopupLoading(false); // Reset popup loading\n    }\n  };\n\n  // -------------------- Render JSX --------------------\n  return (\n    <div className=\"w-full flex justify-center px-4 py-6\">\n      <div className=\"bg-white w-full max-w-md sm:max-w-lg lg:max-w-xl p-6 rounded-lg shadow-md\">\n        <ToastContainer position=\"top-right\" autoClose={3000} />\n        <h2 className=\"text-2xl sm:text-3xl font-bold mb-4 text-center\">Sign Up</h2>\n\n        {error && <p className=\"text-red-500 text-sm mb-2\">{error}</p>}\n\n        {/* FORM */}\n        <form onSubmit={handleRegister} className=\"space-y-4\">\n          {/* Name Fields */}\n          <div>\n            <p className=\"text-sm font-medium\">\n              Name<span className=\"text-red-500\">*</span>\n            </p>\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-1\">\n              {/* First Name */}\n              <div className=\"flex items-center gap-2\">\n                <img src={user} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                <input\n                  name=\"Fname\"\n                  value={input.Fname}\n                  placeholder=\"First Name\"\n                  onChange={(e) =>\n                    setInput({ ...input, [e.target.name]: e.target.value })\n                  }\n                  required\n                  maxLength={10}\n                  className=\"w-full p-2 border rounded text-sm sm:text-base\"\n                />\n              </div>\n\n              {/* Middle Name */}\n              <div className=\"flex items-center gap-2\">\n                <img src={user} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                <input\n                  name=\"Mname\"\n                  value={input.Mname}\n                  placeholder=\"Middle Name\"\n                  onChange={(e) =>\n                    setInput({ ...input, [e.target.name]: e.target.value })\n                  }\n                  maxLength={10}\n                  className=\"w-full p-2 border rounded text-sm sm:text-base\"\n                />\n              </div>\n\n              {/* Last Name */}\n              <div className=\"flex items-center gap-2\">\n                <img src={user} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                <input\n                  name=\"Lname\"\n                  value={input.Lname}\n                  placeholder=\"Last Name\"\n                  onChange={(e) =>\n                    setInput({ ...input, [e.target.name]: e.target.value })\n                  }\n                  required\n                  maxLength={10}\n                  className=\"w-full p-2 border rounded text-sm sm:text-base\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Email */}\n          <div>\n            <p className=\"text-sm font-medium\">\n              Email Address<span className=\"text-red-500\">*</span>\n            </p>\n            <div className=\"flex items-center gap-2 mt-1\">\n              <img src={email_Icon} className=\"w-4 h-4 sm:w-6 sm:h-\" />\n              <input\n                name=\"email\"\n                type=\"email\"\n                value={input.email}\n                placeholder=\"Enter your Valid Email\"\n                onChange={(e) =>\n                  setInput({ ...input, [e.target.name]: e.target.value })\n                }\n                required\n                className=\"w-full p-2 border rounded text-sm sm:text-base\"\n              />\n            </div>\n          </div>\n\n          {/* Phone */}\n          <div>\n            <p className=\"text-sm font-medium\">\n              Phone No<span className=\"text-red-500\">*</span>\n            </p>\n            <div className=\"flex items-center gap-2 mt-1\">\n              <img src={phoneicon} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n              <input\n                name=\"phone\"\n                maxLength={10}\n                value={input.phone}\n                placeholder=\"Enter your Contact Number\"\n                onChange={(e) =>\n                  setInput({ ...input, [e.target.name]: e.target.value })\n                }\n                required\n                className=\"w-full p-2 border rounded text-sm sm:text-base\"\n              />\n            </div>\n          </div>\n\n          {/* Password */}\n          <div>\n            <p className=\"text-sm font-medium\">\n              Password<span className=\"text-red-500\">*</span>\n            </p>\n            <div className=\"flex items-center gap-2 mt-1 relative\">\n              <img src={pwd} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n              <input\n                name=\"password\"\n                type={passwordVisible ? \"text\" : \"password\"}\n                value={input.password}\n                placeholder=\"Password\"\n                onChange={(e) =>\n                  setInput({ ...input, [e.target.name]: e.target.value })\n                }\n                required\n                className=\"w-full p-2 border rounded text-sm sm:text-base\"\n              />\n              <span\n                className=\"absolute right-3 cursor-pointer text-xs sm:text-sm\"\n                onClick={() => setPasswordVisible(!passwordVisible)}\n              >\n                {passwordVisible ? \"Hide\" : \"👁️\"}\n              </span>\n            </div>\n          </div>\n\n          {/* Confirm Password */}\n          <div>\n            <p className=\"text-sm font-medium\">\n              Confirm Password<span className=\"text-red-500\">*</span>\n            </p>\n            <div className=\"flex items-center gap-2 mt-1\">\n              <img src={pwd} className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n              <input\n                name=\"confirmPassword\"\n                type={passwordVisible ? \"text\" : \"password\"}\n                value={input.confirmPassword}\n                placeholder=\"Confirm Password\"\n                onChange={(e) =>\n                  setInput({ ...input, [e.target.name]: e.target.value })\n                }\n                required\n                className=\"w-full p-2 border rounded text-sm sm:text-base\"\n              />\n            </div>\n          </div>\n\n          <span className=\"text-xs text-gray-500 block\">\n            Password must be at least 8 characters, include uppercase,\n            lowercase, number & special character.\n          </span>\n\n          <button\n            type=\"submit\"\n            className=\"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded transition duration-200 text-sm sm:text-base signup\"\n          >\n            Sign Up\n          </button>\n        </form>\n\n        {/* Social Buttons */}\n        <p className=\"text-center my-3\">Or</p>\n        {/* Google button  */}\n        <button\n          onClick={googleSign}\n          className=\"social-button google-btn w-full mt-2 flex items-center justify-center gap-2\"\n        >\n          <img\n            src=\"https://www.google.com/favicon.ico\"\n            alt=\"Google Logo\"\n            className=\"w-5 h-5\"\n          />\n          Continue with Google\n        </button>\n\n        {/* Facebook button  */}\n        <button\n          onClick={facebookSign}\n          className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded flex items-center justify-center gap-2 mb-2 text-sm sm:text-base\"\n        >\n          <img\n            src=\"https://www.facebook.com/images/fb_icon_325x325.png\"\n            alt=\"Facebook Logo\"\n            className=\"w-5 h-5\"\n          />\n          Continue with Facebook\n        </button>\n\n        <p className=\"text-sm text-center mt-4\">\n          Already have an account?{\" \"}\n          <span\n            className=\" font-medium underline cursor-pointer singbtn\"\n            onClick={() => navigate(\"/login\")}\n          >\n            Login\n          </span>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}